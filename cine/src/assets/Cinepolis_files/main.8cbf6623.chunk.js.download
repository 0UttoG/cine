(this["webpackJsonpmovie-browser-app"]=this["webpackJsonpmovie-browser-app"]||[]).push([[0],[,,,function(e,t,a){e.exports={browserPopup:"Popup_browserPopup__2umED",browserPopupHeader:"Popup_browserPopupHeader__3gRYJ",browserPopupHeaderInner:"Popup_browserPopupHeaderInner__3DpQl",movieTitle:"Popup_movieTitle__2o_e_",iconBack:"Popup_iconBack__2-mem",iconClose:"Popup_iconClose__3NI1F",btnDesktop:"Popup_btnDesktop__3i8Lk",btnMobile:"Popup_btnMobile__2XOvT",dropDownLayout:"Popup_dropDownLayout__2ivg_"}},function(e,t,a){e.exports={mobileFilters:"MobileFilters_mobileFilters__1nW-D",active:"MobileFilters_active__3wwlk",mobileFiltersHeader:"MobileFilters_mobileFiltersHeader__3A9uQ",mobileFiltersContent:"MobileFilters_mobileFiltersContent__3aJtK",btnSelectAll:"MobileFilters_btnSelectAll__foZQV",btnBack:"MobileFilters_btnBack__2yBzO",btnClose:"MobileFilters_btnClose__1I0rC"}},,function(e,t,a){e.exports={browserHeader:"Filters_browserHeader__3_rSK",headerInner:"Filters_headerInner__WTvBC",filtersWrapper:"Filters_filtersWrapper__2kuyC",iconFilters:"Filters_iconFilters__xQxPe",activeFilters:"Filters_activeFilters__2Qa0V",selectedCinema:"Filters_selectedCinema__3VYm8"}},function(e,t,a){e.exports={movies:"Movies_movies__ac8nq",movie:"Movies_movie__2Nl2w",movieContent:"Movies_movieContent__3DFOY",movieMeta:"Movies_movieMeta__Yvotx",noResultsMessageWrapper:"Movies_noResultsMessageWrapper__11KzY"}},,function(e,t,a){e.exports={cinema:"Cinema_cinema__3_YUn",attributes:"Cinema_attributes__18Fc7","button-cinema":"Cinema_button-cinema__1w75W",dropDownLayout:"Cinema_dropDownLayout__3r5vt",concessionLink:"Cinema_concessionLink__2xlQ4"}},,,,,function(e,t,a){e.exports=a.p+"static/media/foursquare-check-in.c9f1b532.svg"},,function(e,t,a){e.exports={singleFilterList:"CheckboxesGroup_singleFilterList__19wBV",IconCheckIn:"CheckboxesGroup_IconCheckIn__1isE-"}},function(e,t,a){e.exports={tabListItem:"Tab_tabListItem__2q2xt",tabListActive:"Tab_tabListActive__37zyA"}},function(e,t,a){e.exports={tabList:"Tabs_tabList__U6eY8",tabContent:"Tabs_tabContent__10434"}},function(e,t,a){e.exports={sectionCinemas:"Cinemas_sectionCinemas__1shRZ","list-title":"Cinemas_list-title__1Gud_",dropDownLayout:"Cinemas_dropDownLayout__2uzB9"}},function(e,t,a){e.exports={locationOptions:"LocationOptions_locationOptions__1HMTc",buttonCurrentLocation:"LocationOptions_buttonCurrentLocation__d8dUB",active:"LocationOptions_active__1jIA5",fieldLocation:"LocationOptions_fieldLocation__jEVCi"}},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/filter.888273d1.svg"},function(e,t,a){e.exports=a.p+"static/media/filter-dark.92387499.svg"},function(e,t,a){e.exports=a.p+"static/media/gps-white.3b957994.svg"},function(e,t,a){e.exports=a.p+"static/media/gps-black.90a89a6b.svg"},function(e,t,a){e.exports=a.p+"static/media/icon-film-small.adf8a6da.svg"},function(e,t,a){e.exports=a.p+"static/media/icon-film-small-dark.5962df42.svg"},,function(e,t,a){e.exports=a.p+"static/media/close.05b5416c.svg"},function(e,t,a){e.exports=a.p+"static/media/icon-back.11928cc1.svg"},function(e,t,a){e.exports=a.p+"static/media/icon-back-dark.88bbbe8a.svg"},,function(e,t,a){e.exports=a(93)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/gps.2952464c.svg"},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(5),r=a.n(o),c=(a(48),a(10)),l=a(1),s=(a(49),a(8)),m=a(32),u=a.n(m),b=a(33),d=a.n(b),p=a(6),v=a.n(p),f=a(4),h=a.n(f),g=a(14),F=a.n(g),_=a(16),w=a.n(_),E=function(e){var t=e.filterOptions,a=e.fieldName,n=e.setFilter,o=e.selectedFilters,r=a.replace("field-","").replace("[]",""),c=function(e){var t=e.target.checked?"add":"remove";n(r,e.target.value,t)};return i.a.createElement("ul",{className:w.a.singleFilterList},t.map((function(e){var t=o[r].indexOf(e.value)>=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement("label",null,e.label," (",e.moviesCount,")",i.a.createElement("input",{type:"checkbox",name:a,value:e.value,onChange:c,checked:t}),i.a.createElement("img",{src:F.a,className:w.a.iconCheckIn,alt:""}))))})))},C=function(e){var t=e.areFilterVisible,a=e.setAreFilterVisible,o=e.filterOptions,r=e.setFilter,c=(e.resetFilters,e.selectedFilters),s=e.activeMobileFilterScreen,m=[{value:"attrs",label:"Showing in"},{value:"rating",label:"Age"},{value:"genre",label:"Genres"},{value:"other",label:"Other"}],u=Object(n.useState)("all"),b=Object(l.a)(u,2),d=b[0],p=b[1],v=Object(n.useState)(!1),f=Object(l.a)(v,2),g=f[0],F=f[1];Object(n.useEffect)((function(){var e=[],t=_();g&&o[t].map((function(t){e.push(t.value)})),r(t,e,"replace")}),[g]),Object(n.useEffect)((function(){F(!1)}),[d]),Object(n.useEffect)((function(){s&&p(s)}),[s]);var _=function(){var e="Other";return d===window.mapiTranslations["Showing in"]?e="attrs":d===window.mapiTranslations.Age?e="rating":d===window.mapiTranslations.Genres&&(e="genre"),e},w="";return"all"!==d&&(w=(w=m.find((function(e){return e.label===d}))).value),i.a.createElement("div",{className:h.a.mobileFilters+(t?" "+h.a.active:"")},i.a.createElement("div",{className:h.a.mobileFiltersHeader},"all"===d&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Filter"),i.a.createElement("a",{href:"#",className:h.a.btnClose,onClick:function(e){e.preventDefault(),a(!1)}},"X")),"all"!==d&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),p("all")},className:h.a.btnBack},"<"),d),c&&0===c[w].length&&i.a.createElement("a",{href:"#",className:"btn "+h.a.btnSelectAll,onClick:function(e){e.preventDefault(),F(!0)}},"All"),c&&c[w].length>0&&i.a.createElement("a",{href:"#",className:"btn "+h.a.btnSelectAll,onClick:function(e){e.preventDefault(),g?F(!1):r(_(),[],"replace")}},"Clear"))),i.a.createElement("div",{className:h.a.mobileFiltersContent},"all"===d&&i.a.createElement("ul",{className:h.a.allFilterList},m.map((function(e){return i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),p(e.label)}},e.label,(0===c[e.value].length||0===o[e.value].length)&&i.a.createElement("span",null,"All"),c[e.value].length>0&&i.a.createElement("span",null,c[e.value][0]+(c[e.value].length>1?",...":""))))}))),d===window.mapiTranslations["Showing in"]&&i.a.createElement(E,{fieldName:"field-attrs[]",filterOptions:o.attrs,setFilter:r,selectedFilters:c}),d===window.mapiTranslations.Age&&i.a.createElement(E,{fieldName:"field-rating[]",filterOptions:o.rating,setFilter:r,selectedFilters:c}),d===window.mapiTranslations.Genres&&i.a.createElement(E,{fieldName:"field-genre[]",filterOptions:o.genre,setFilter:r,selectedFilters:c}),d===window.mapiTranslations.Other&&i.a.createElement(E,{fieldName:"field-other[]",filterOptions:o.other,setFilter:r,selectedFilters:c})))};var S=function(e){var t=e.sites,a=e.filterOptions,o=e.isSearchable,r=e.isRtl,c=e.setFilter,m=e.resetFilters,b=e.selectedFilters,p=e.useSiteAsFilter,f=e.colorScheme,h=function(){var e=i.a.useState({width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientWidth}),t=Object(l.a)(e,2),a=t[0],n=t[1];function o(){n({width:window.innerWidth,height:window.innerHeight})}return i.a.useEffect((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),a}().width,g=["attrs","genre","rating","other"],F="";Object.keys(b).forEach((function(e){"cinema"!==e&&"site"!==e&&!F&&b[e]&&b[e].length&&(F={label:b[e][0],value:b[e][0],filter:"attrs"})}));var _=Object(n.useState)(!1),w=Object(l.a)(_,2),E=w[0],S=w[1],k=Object(n.useState)([]),O=Object(l.a)(k,2),T=O[0],L=O[1],N=Object(n.useState)(""),j=Object(l.a)(N,2),x=j[0],P=j[1];Object(n.useEffect)((function(){var e=[{label:"All",value:"all"}];Object.keys(a).forEach((function(t){"movies"!==t&&(e.push({label:"attrs"===t?window.mapiTranslations["Screening type"]:t,options:a[t]}),"1"===p&&h>1024&&!E&&S(!0))})),L(e)}),[a]);var A=function(e,t){if("clear"===t.action){"filter-group"===t.name?g.forEach((function(e,t){b[e].length>0&&m(e)})):c(t.name,[],"replace")}else{if("filter-group"===t.name)if(Array.isArray(e)){if(g.forEach((function(t,a){(!e.filter||b[t].length>0)&&m(t)})),!e.filter((function(e){return"all"===e.value})).length){var a={};e.forEach((function(e,t){a[e.filter]?a[e.filter].push(e.value):a[e.filter]=[e.value]})),Object.keys(a).forEach((function(e){c(e,a[e],"replace")}))}}else null===e&&"remove-value"===t.action?m(t.removedValue.filter):(g.forEach((function(t,a){(!e.filter||b[t].length>0)&&m(t)})),e.filter&&c(e.filter,[e.value],"replace"));else c(e.filter,[e.value],"replace")}},y=[{value:"attrs",label:window.mapiTranslations["Showing in"]},{value:"rating",label:window.mapiTranslations.Age},{value:"genre",label:window.mapiTranslations.Genres},{value:"other",label:window.mapiTranslations.Other}],M=function(e){e.preventDefault(),P(e.target.getAttribute("data-screen")),E||S(!0)},D=t.filter((function(e){return e.id==b.cinema[0]})),B="1"===p&&D.length;return i.a.createElement("div",{className:v.a.browserHeader},i.a.createElement("div",{className:v.a.headerInner},i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),S(!E)}},i.a.createElement("img",{src:"light"===f?d.a:u.a,className:v.a.iconFilters,alt:""})),i.a.createElement("div",{className:v.a.activeFilters},i.a.createElement("ul",null,y.map((function(e){if(b[e.value].length){var t=b[e.value].slice(0,2).join(", ");return b[e.value].length>2&&(t+="..."),i.a.createElement("li",null,i.a.createElement("a",{href:"#","data-screen":e.label,onClick:M},e.label),": ",t)}}))))),1===B&&i.a.createElement("div",{className:v.a.selectedCinema},i.a.createElement("span",null,window.mapiTranslations["Selected cinema"],":")," ",D[0].name),h>1024&&i.a.createElement("div",{className:v.a.filtersWrapper+(E?"":" hidden")},i.a.createElement(s.a,{className:"basic-single",classNamePrefix:"select",defaultValue:"",isClearable:!0,isDisabled:!1,isLoading:!1,isRtl:r,isSearchable:o,name:"movie",options:a.movies,onChange:A,placeholder:window.mapiTranslations["Select a movie"]}),i.a.createElement(s.a,{className:"basic-single",classNamePrefix:"select",defaultValue:F,isMulti:!0,isClearable:!0,isDisabled:!1,isLoading:!1,isRtl:r,isSearchable:o,name:"filter-group",options:T,onChange:A,placeholder:window.mapiTranslations["Select a filter"]})),h<=1024&&i.a.createElement(C,{areFilterVisible:E,setAreFilterVisible:S,filterOptions:a,setFilter:c,resetFilters:m,selectedFilters:b,activeMobileFilterScreen:x,colorScheme:f}))},k=a(7),O=a.n(k),T=a(11),L=function(e){var t=e.movies,a=e.homeURL,o=e.selectedFilters,r=e.isComingSoon,c=e.showAllMovies,s=e.concessionEnabledParam,m=Object(n.useState)(!0),u=Object(l.a)(m,2),b=u[0],d=u[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),f=v[0],h=v[1],g=Object(n.useState)(8),F=Object(l.a)(g,2),_=F[0],w=F[1];Object(n.useEffect)((function(){var e=t.length>8&&!Number(c);e?(h(Object(T.slice)(t,0,8)),w(8)):h(t),d(e)}),[t]);var E=0;Object.keys(o).forEach((function(e){0===E&&o[e].length>0&&(E=1)}));var C=0===f.length&&E,S=window.rpReactPlugin||{};return i.a.createElement("div",{className:"browser-content"},i.a.createElement("div",{className:O.a.movies},f.map((function(e){var t=[e.ratingName,e.length+" "+window.mapiTranslations.Minutes,e.attrs.filter((function(e){return e})).join(" / ")],n=document.querySelector('input[name="single_cinema_id"]'),r="https://www.yesplanet.co.il/xmedia-cw/repo/feats/posters/"+e.code+"-lg.jpg",c=(e.code,a+"movie/"+e.slug+"/");return S.assets_dir&&(r=S.assets_bucket_url+"/HO-"+S.assets_dir+"/eventmaster/"+e.emid+"_4.png",S.assets_bucket_url+"/HO-"+S.assets_dir+"/eventmaster/"+e.emid+"_4.png"),n?c+="?cinema="+n.value:o.cinema&&o.cinema.length&&(c+="?cinema="+o.cinema[0]),s&&(-1===c.indexOf("?")?c+="?concessionEnabled="+s:c+="&concessionEnabled="+s),i.a.createElement("div",{className:O.a.movie+" item-movie"},i.a.createElement("a",{href:c},i.a.createElement("picture",null,i.a.createElement("img",{src:r,class:"d-block w-100",alt:"",onError:function(e){e.target.onerror=null,e.target.src="https://cinepolis.com.hn/wp-content/themes/cinema-world/resources/images/poster-not-found.jpg"}})),i.a.createElement("div",{className:O.a.movieContent},i.a.createElement("h3",null,e.webName),i.a.createElement("div",{className:O.a.movieMeta},t.filter((function(e){return e})).join(" | ")))))})),1===C&&i.a.createElement("div",{className:O.a.noResultsMessageWrapper},i.a.createElement("span",{cl:!0}),window.mapiTranslations["There are no showtimes available for the selected criteria. Please change your search criteria, or check again later."]),r&&0===f.length&&i.a.createElement("div",{className:O.a.noResultsMessageWrapper},i.a.createElement("span",{cl:!0}),window.mapiTranslations["There are no showtimes available for the selected criteria. Please change your search criteria, or check again later."])),b&&i.a.createElement("button",{className:"button button-primary",onClick:function(){var e=_+8,a=e<t.length-1,n=Object(T.concat)(f,Object(T.slice)(t,_,e));w(e),h(n),d(a)}},window.mapiTranslations["Show More"]))},N=a(17),j=a.n(N),x=function(e){var t=e.activeTab,a=e.label,n=e.onClick,o=j.a.tabListItem;return t===a&&(o+=" "+j.a.tabListActive),i.a.createElement("li",{className:o,onClick:function(){n(a)}},a)},P=a(18),A=a.n(P),y=function(e){var t=e.useSiteAsFilter,a=e.activeTab,o=e.setActiveTab,r=e.children,c=e.colorScheme;Object(n.useEffect)((function(){"1"===t&&o(window.mapiTranslations["Choose Cinema"])}),[t]);var l=function(e){o(e)};return i.a.createElement("div",{className:"tabs"},i.a.createElement("ol",{className:A.a.tabList},r.map((function(e){if(e){var t=e.props.label;return i.a.createElement(x,{activeTab:a,key:t,label:t,onClick:l,colorScheme:c})}}))),i.a.createElement("div",{className:A.a.tabContent},r.map((function(e){if(e&&e.props.label===a)return e.props.children}))))},M=a(3),D=a.n(M),B=(a(73),a(34)),R=a.n(B),I=a(35),U=a.n(I),q=a(36),H=a.n(q),W=a(37),V=a.n(W),G=a(9),Y=a.n(G),z=a(38),Q=a.n(z),K=function(e){var t=e.cinemaData,a=e.setFilter,n=e.isPopup,o=e.homeURL,r=(e.setIsPopupActive,e.useSiteAsFilter),c=e.setActiveTab,l=e.colorScheme,s=e.concessionBtnText,m=e.concessionSiteLink,u=e.concessionLinkNewTab,b=e.concessionEnabledParam,d="light"===l||"cinepolis"===l?V.a:H.a,p=!!document.querySelector(".popup__choose-cinema.as-drop-down"),v=(m||"").replace("{site}",t.id);return v&&"1"===b&&(v+="&concessionEnabled=1"),i.a.createElement("div",{className:Y.a.cinema+" "+(p?Y.a.dropDownLayout:"")},i.a.createElement("a",{href:o+"cinema/"+t.slug+"/"+(b?"?concessionEnabled="+b:""),"data-site-id":t.id,"data-site-name":t.name,"data-site-address":t.address,onClick:function(e){e.preventDefault();var t=e.currentTarget.attributes["data-site-id"].value,i=e.currentTarget.attributes["data-site-name"].value,o=(e.currentTarget.attributes["data-site-address"].value,e.currentTarget.attributes.href.value);if(!!document.querySelector(".popup__choose-cinema.active.active-filter"))document.querySelector(".choose-cinema-options .choose-cinema span").innerText=i,document.querySelector('[name="field-reservation-site"]').value=t,document.querySelector('[name="field-reservation-site"]').dispatchEvent(new Event("change")),document.querySelector(".choose-cinema").click();else{if(n){var l=t+"|"+i;Q.a.set("selectedMyCinema",l),document.querySelector(".show-cinemas-popup span").textContent=i}a("cinema",[t],"replace"),"1"===r?c(window.mapiTranslations["Choose Film"]):window.location=o}}},i.a.createElement("h4",null,t.name),i.a.createElement("p",null,t.address),i.a.createElement("div",{className:Y.a.attributes},i.a.createElement("img",{src:d,alt:""}),t.availAttrs.map((function(e){return i.a.createElement("span",null,e)})))),v&&(t.isConcessionEnabled||t.isManagerAllowed&&"1"===b)&&i.a.createElement("a",{href:v,target:"1"===u?"_blank":"_self",className:Y.a.concessionLink},s))},J=a(19),X=a.n(J),Z=function(e){var t=e.location,a=e.useCurrentLocation,o=e.cinemas,r=e.setFilter,c=e.isPopup,s=e.homeURL,m=e.useSiteAsFilter,u=e.setActiveTab,b=e.colorScheme,d=e.concessionBtnText,p=e.concessionSiteLink,v=e.concessionLinkNewTab,f=e.concessionEnabledParam,h=Object(n.useState)([]),g=Object(l.a)(h,2),F=g[0],_=g[1],w=!!document.querySelector(".popup__choose-cinema.as-drop-down");Object(n.useEffect)((function(){if(a||t)if(!a&&t){!function(e){if(!e||e.length<2)_([]);else{var t=o.filter((function(t){return e===t.postCode||-1!==t.address.indexOf(e)}));_(t)}}(t)}else{!function(){var e=E();if(e.lat&&e.lng){var t=o.filter((function(t){return C(e.lat,e.lng,t.latitude,t.longitude,"K")<=1320}));_(t)}else _([])}()}else _(o)}),[t,a,o]);var E=function(){var e={lat:43.234135099999996,lng:27.8951277};return"geolocation"in navigator?console.log("'geolocation' is available"):console.log("'geolocation' is not available"),navigator.geolocation.getCurrentPosition((function(t){e.lat=t.coords.latitude,e.lng=t.coords.longitude}),(function(e){console.error("Error Code = "+e.code+" - "+e.message)})),e},C=function(e,t,a,n,i){if(e===a&&t===n)return 0;var o=Math.PI*e/180,r=Math.PI*a/180,c=t-n,l=Math.PI*c/180,s=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos(l);return s>1&&(s=1),s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515,"K"===i&&(s*=1.609344),"N"===i&&(s*=.8684),s};return i.a.createElement("div",{className:X.a.sectionCinemas+" "+(w&&c?X.a.dropDownLayout:"")},i.a.createElement("div",{className:"cinemas"},F.map((function(e){return i.a.createElement(K,{cinemaData:e,setFilter:r,isPopup:c,homeURL:s,useSiteAsFilter:m,setActiveTab:u,colorScheme:b,concessionBtnText:d,concessionSiteLink:p,concessionLinkNewTab:v,concessionEnabledParam:f})}))))},$=a(20),ee=a.n($),te=function(e){var t=e.cinemas,a=e.setFilter,o=e.isPopup,r=e.homeURL,c=e.useSiteAsFilter,s=e.setActiveTab,m=e.colorScheme,u=e.showSearch,b=e.concessionBtnText,d=e.concessionSiteLink,p=e.concessionLinkNewTab,v=e.concessionEnabledParam,f=Object(n.useState)(!1),h=Object(l.a)(f,2),g=h[0],F=h[1],_=Object(n.useState)(""),w=Object(l.a)(_,2),E=w[0],C=w[1];"light"===m?U.a:R.a;return i.a.createElement(i.a.Fragment,null,u&&i.a.createElement("div",{className:ee.a.locationOptions},i.a.createElement("label",{for:"field-location"},window.mapiTranslations["Show only cinemas around"]||"Show only cinemas around"),i.a.createElement("input",{type:"text",className:ee.a.fieldLocation,id:"field-location",name:"field-location",placeholder:window.mapiTranslations["City or Postal Code"]||"City or Postal Code",value:E,onChange:function(e){C(e.target.value)},onFocus:function(e){F(!1)}})),i.a.createElement(Z,{location:E,useCurrentLocation:g,cinemas:t,setFilter:a,isPopup:o,homeURL:r,useSiteAsFilter:c,setActiveTab:s,colorScheme:m,concessionBtnText:b,concessionSiteLink:d,concessionLinkNewTab:p,concessionEnabledParam:v}))},ae=a(39),ne=a.n(ae),ie=a(40),oe=a.n(ie),re=a(41),ce=a.n(re),le=function(e){var t=e.sites,a=e.setFilter,o=e.homeURL,r=e.colorScheme,c=e.movieName,s=e.showSearch,m=e.concessionBtnText,u=e.concessionSiteLink,b=e.concessionLinkNewTab,d=e.concessionEnabledParam,p=Object(n.useState)(!1),v=Object(l.a)(p,2),f=v[0],h=v[1],g=function(e){e.preventDefault(),h(!1)},F="light"===r?ce.a:oe.a,_=!!document.querySelector(".popup__choose-cinema.as-drop-down");return i.a.createElement("div",{className:D.a.browserPopup+" "+(f?D.a.active:"")+" "+(_?D.a.dropDownLayout:"")},!_&&i.a.createElement("div",{className:D.a.browserPopupHeader},i.a.createElement("div",{className:D.a.browserPopupHeaderInner},i.a.createElement("a",{href:"#",className:D.a.btnMobile+" bnt-close-popup",onClick:g},i.a.createElement("img",{src:F,className:D.a.iconBack,alt:window.mapiTranslations["back icon"]})),i.a.createElement("h3",null,window.mapiTranslations["Select Cinema"]||"Select Cinema"),i.a.createElement("a",{href:"#",className:D.a.btnDesktop+" bnt-close-popup",onClick:g},i.a.createElement("img",{src:ne.a,className:D.a.iconClose,alt:window.mapiTranslations["close icon"]}))),c&&i.a.createElement("h5",{className:D.a.movieTitle},c)),i.a.createElement(te,{cinemas:t,setFilter:a,isPopup:!0,homeURL:o,colorScheme:r,showSearch:s,concessionBtnText:m,concessionSiteLink:u,concessionLinkNewTab:b,concessionEnabledParam:d}))},se=a(42),me=a.n(se),ue=function(e){var t=e.dataUrl,a=e.ajaxNonce,o=e.isPopup,r=e.singleCinema,s=e.homeURL,m=e.useSiteAsFilter,u=e.filters,b=e.colorScheme,d=e.movieName,p=e.singleMovie,v=e.showAllMovies,f=e.showSearch,h=e.concessionBtnText,g=e.concessionSiteLink,F=e.concessionLinkNewTab,_=e.concessionEnabledParam,w={cinema:[],movie:[],attrs:[],genre:[],rating:[],other:[]};u&&Object.keys(u).forEach((function(e){u[e]&&u[e].length&&w[e]&&(w[e]=u[e])}));var E=Object(n.useState)(window.mapiTranslations["Choose Film"]),C=Object(l.a)(E,2),k=C[0],O=C[1],T=Object(n.useState)(!0),N=Object(l.a)(T,2),j=(N[0],N[1]),x=Object(n.useState)([]),P=Object(l.a)(x,2),A=P[0],M=P[1],D=Object(n.useState)([]),B=Object(l.a)(D,2),R=B[0],I=B[1],U=Object(n.useState)([]),q=Object(l.a)(U,2),H=q[0],W=q[1],V=Object(n.useState)(!1),G=Object(l.a)(V,2),Y=G[0],z=G[1],Q=Object(n.useState)({sites:[],movies:[],attrs:[],genre:[],rating:[],other:[{label:"Dubbed",value:"dubbed",moviesCount:0,filter:"other"},{label:"Subtitled",value:"subtitled",moviesCount:0,filter:"other"}]}),K=Object(l.a)(Q,2),J=K[0],X=K[1],Z=Object(n.useState)(w),$=Object(l.a)(Z,2),ee=$[0],ae=$[1];Object(n.useEffect)((function(){re()}),[ee]),Object(n.useEffect)((function(){if(R.length&&!Y){var e=[],t=[],a=[],n=[],i=0,o=0;R.forEach((function(r){e=e.concat(r.attrs),t=t.concat(r.cats),a=a.concat(r.ratingName),n.push({value:r.edi,label:r.webName,moviesCount:1,filter:"movie"}),"1"===r.isDubbed&&i++,"1"===r.isSubtitled&&o++})),e=ne(e,"attrs"),t=ne(t,"genre"),a=ne(a,"rating");var r=Object(c.a)(Object(c.a)({},J),{},{attrs:e,genre:t,rating:a,movies:n,other:[]});i>0&&r.other.push({label:"Dubbed",value:"dubbed",moviesCount:i,filter:"other"}),o>0&&r.other.push({label:"Subtitled",value:"subtitled",moviesCount:o,filter:"other"}),X(r),z(!0)}}),[R]);var ne=function(e,t){var a={};return e=e.filter((function(t,n){return t&&(a[t]?a[t]++:a[t]=1),!!t&&e.indexOf(t)===n})),e=ie(e,t,a)},ie=function(e,t,a){return e=e.map((function(e){return{value:e,label:e,moviesCount:a[e],filter:t}}))},oe=function(e,t,a){if("add"===a)ee[e].push(t);else if("replace"===a)ee[e]=t;else{var n=ee[e].indexOf(t);ee[e].splice(n,1)}ae(Object(c.a)({},ee))},re=function(){var e=t+"?action=get_sites_data&security="+a+"&single_cinema="+r;Object.keys(ee).forEach((function(t){e+="&"+t+"="+ee[t].join(",")})),e+="&isExperiencePage="+m,e+="&single_movie="+p,me.a.get(e+"&isPopup="+o).then((function(e){var t=e.data.sites||[],a=e.data.movies||[],n=e.data.comingSoonMovies||[];M(t),I(a),W(n),(null===a||void 0===a?void 0:a.length)<=8?document.querySelector("#mapi-wrapper").classList.add("has-less-movies"):document.querySelector("#mapi-wrapper").classList.remove("has-less-movies"),j(!1)}))};return i.a.createElement("div",{className:"movie-browser-wrapper lightTheme"},!o&&i.a.createElement(y,{useSiteAsFilter:m,setActiveTab:O,activeTab:k,colorScheme:b},i.a.createElement("div",{label:window.mapiTranslations["Choose Film"]},i.a.createElement(S,{sites:A,filterOptions:J,isSearchable:!0,isRtl:!1,setFilter:oe,resetFilters:function(e){e?ee[e]=[]:(ee.cinema=[],ee.movie=[],ee.attrs=[],ee.genre=[],ee.rating=[],ee.other=[]),ae(Object(c.a)({},ee))},selectedFilters:ee,useSiteAsFilter:m,colorScheme:b}),i.a.createElement(L,{movies:R,homeURL:s,selectedFilters:ee,showAllMovies:v,concessionEnabledParam:_})),"0"===r&&i.a.createElement("div",{label:window.mapiTranslations["Choose Cinema"]},i.a.createElement(te,{cinemas:A,setFilter:oe,isPopup:o,homeURL:s,useSiteAsFilter:m,setActiveTab:O,colorScheme:b,showSearch:f,concessionBtnText:h,concessionSiteLink:g,concessionLinkNewTab:F,concessionEnabledParam:_})),i.a.createElement("div",{label:window.mapiTranslations["Coming Soon"]},i.a.createElement(L,{movies:H,homeURL:s,selectedFilters:ee,isComingSoon:!0,showAllMovies:v,concessionEnabledParam:_}))),o&&i.a.createElement(le,{sites:A,setFilter:oe,homeURL:s,colorScheme:b,movieName:d,showSearch:f,concessionBtnText:h,concessionSiteLink:g,concessionLinkNewTab:F,concessionEnabledParam:_}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=function(e){var t=function(e){var t={"--app-hr":"#FFF","--app-btn-bg":"#FF6900","--app-btn-color":"#FFF","--app-btn-border":"#FF6900","--app-btn-hover-bg":"transparent","--app-btn-hover-color":"#FF6900","--app-select-placeholder":"rgb(100, 100, 100)","--app-select-placeholder-disabled":"rgb(128, 128, 128)","--cinema-color":"#FFF","--cinema-background":"#292F38","--cinema-background-hover":"#292F38","--cinema-border":"#393E47","--cinema-address":"#868686","--cinema-attr-separator":"#FF6900","--cinema-concession-btn-border":"#FF6900","--cinema-concession-btn-backgound":"#FF6900","--cinema-concession-btn-backgound-hover":"transparent","--cinema-concession-btn-color":"#FFF","--cinema-concession-btn-color-hover":"#FF6900","--filters-color":"#000","--filters-active-filters":"#FF6900","--filters-selected-cinema":"#FF6900","--filters-mobile-bg":"#141B25","--filters-mobile-color":"#FFF","--filters-mobile-content-bg":"#393E47","--filters-mobile-item-border":"#000","--filters-mobile-btn-all-bg":"#393e47","--filters-mobile-btn-all-hover-bg":"#FF6900","--filters-mobile-btn-all-hover-color":"#FFF","--filters-mobile-btn-back-color":"#FF6900","--filters-mobile-btn-close-color":"#FF6900","--filters-mobile-attr-value":"#FF6900","--filters-mobile-link-hover":"#FF6900","--movie-color":"#FFF","--movie-no-results-highlight":"#ff6900","--movie-popup-header-border":"#5D5D5D","--tab-color":"#858585","--tab-active-color":"#FFFFFF","--tab-active-border":"#FF6900","--location-btn-current-bg":"#292F38","--location-btn-current-color":"#FFF","--location-btn-current-hover-bg":"#292F38","--location-btn-current-hover-color":"#FFF","--location-btn-current-hover-border":"#FF6900","--location-btn-current-active-bg":"#0E1017","--location-btn-current-active-color":"#FF6900","--location-btn-current-active-border":"#FF6900","--location-btn-current-active-hover-bg":"transparent","--location-label-color":"#868686","--location-field-bg":"#292F38","--location-field-color":"#FFF","--location-value-color":"#FFF","--location-value-border":"#FF6900","--location-value-border-mobile":"#FFF"};"light"===e&&(t["--app-hr"]="#C8C8C8",t["--cinema-color"]="#000",t["--cinema-background"]="#C8C8C8",t["--cinema-background-hover"]="#C8C8C8",t["--cinema-border"]="#C8C8C8",t["--cinema-address"]="#000",t["--filters-mobile-bg"]="#F6F6F6",t["--filters-mobile-color"]="#000",t["--filters-mobile-content-bg"]="#C8C8C8",t["--movie-color"]="#000",t["--movie-popup-header-border"]="#FF6900",t["--tab-active-color"]="#000",t["--tab-active-border"]="#FF6900",t["--location-btn-current-bg"]="#C8C8C8",t["--location-btn-current-color"]="#000",t["--location-btn-current-active-bg"]="#FFF",t["--location-btn-current-hover-bg"]="#FFF",t["--location-btn-current-hover-color"]="#000",t["--location-field-bg"]="#C8C8C8",t["--location-field-color"]="#000"),"cinepolis"===e&&(t["--app-hr"]="#B2B2B2",t["--cinema-color"]="#002069",t["--cinema-background"]="#FFF",t["--cinema-background-hover"]="#B2B2B2",t["--cinema-border"]="#FFF",t["--cinema-address"]="#002069",t["--cinema-attr-separator"]="#002069",t["--cinema-concession-btn-border"]="#002069",t["--cinema-concession-btn-backgound"]="#002069",t["--cinema-concession-btn-color-hover"]="#002069",t["--movie-color"]="#002069",t["--tab-active-color"]="#002069",t["--tab-active-border"]="#002069",t["--location-btn-current-bg"]="#C8C8C8",t["--location-btn-current-color"]="#000",t["--location-btn-current-active-bg"]="#FFF",t["--location-btn-current-hover-bg"]="#FFF",t["--location-btn-current-hover-color"]="#000",t["--location-field-bg"]="#C8C8C8",t["--location-field-color"]="#000");var a=Object.entries(t).map((function(e){return"".concat(e[0],":").concat(e[1])})).join(";");return":root{".concat(a,"}")}(e),a=document.getElementById("client-theme");if(document.body.setAttribute("theme",e),a)a.textContent=t;else{var n=document.createElement("style");n.id="client-theme",n.textContent=t,document.head.append(n)}},de=window.rpReactPlugin||{},pe=de.appSelector,ve=de.footerAppSelector,fe=de.ajaxURL,he=de.ajax_nonce,ge=de.single_cinema,Fe=de.home_url,_e=de.use_site_as_filter,we=de.filters,Ee=de.color_scheme,Ce=de.movie_name,Se=de.single_movie,ke=de.show_all_movies,Oe=de.show_search,Te=de.concession_btn_text,Le=de.concession_site_link,Ne=de.concession_link_new_tab,je=de.concessionEnabledParam,xe=document.querySelector(pe),Pe=document.querySelector(ve);be(Ee),xe&&r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ue,{dataUrl:fe,ajaxNonce:he,isPopup:!1,singleCinema:ge,homeURL:Fe,useSiteAsFilter:_e,filters:we,colorScheme:Ee,movieName:Ce,singleMovie:Se,showAllMovies:ke,showSearch:Oe,concessionBtnText:Te,concessionSiteLink:Le,concessionLinkNewTab:Ne,concessionEnabledParam:je})),xe),Pe&&r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ue,{dataUrl:fe,ajaxNonce:he,isPopup:!0,singleCinema:ge,homeURL:Fe,colorScheme:Ee,movieName:Ce,singleMovie:Se,showAllMovies:ke,showSearch:Oe,concessionBtnText:Te,concessionSiteLink:Le,concessionLinkNewTab:Ne,concessionEnabledParam:je})),Pe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[43,1,2]]]);
//# sourceMappingURL=main.8cbf6623.chunk.js.map